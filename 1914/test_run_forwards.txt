>>> from main import parse, run_forwards

>>> allowed_reactions = parse('''
... 10 ORE => 10 A
... 1 ORE => 1 B
... 7 A, 1 B => 1 C
... 7 A, 1 C => 1 D
... 7 A, 1 D => 1 E
... 7 A, 1 E => 1 FUEL
... ''')
>>> ore_consumed, chemicals_produced = run_forwards([
...     ('A', 3),
...     ('B', 1),
...     ('C', 1),
...     ('D', 1),
...     ('E', 1),
...     ('FUEL', 1),
... ], allowed_reactions)
>>> ore_consumed
31
>>> chemicals_produced['FUEL']
1

>>> allowed_reactions = parse('''
... 9 ORE => 2 A
... 8 ORE => 3 B
... 7 ORE => 5 C
... 3 A, 4 B => 1 AB
... 5 B, 7 C => 1 BC
... 4 C, 1 A => 1 CA
... 2 AB, 3 BC, 4 CA => 1 FUEL
... ''')
>>> ore_consumed, chemicals_produced = run_forwards([
...     ('A', 10 // 2),
...     ('B', 24 // 3),
...     ('C', 40 // 5),
...     ('AB', 2),
...     ('BC', 3),
...     ('CA', 4),
...     ('FUEL', 1),
... ], allowed_reactions)
>>> ore_consumed
165
>>> chemicals_produced['FUEL']
1
